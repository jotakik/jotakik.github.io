<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="This is a webpage that calculates the gross sales and total earnings of a salesperson.">

    <title>Homework 3 Part 2</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="CIS_114_Assignments.css">

    <script>
        function reportEarnings(submitEvent) {
            submitEvent.preventDefault();

            const item1 = parseInt(document.getElementById("item1").value);
            const item2 = parseInt(document.getElementById("item2").value);
            const item3 = parseInt(document.getElementById("item3").value);
            const item4 = parseInt(document.getElementById("item4").value);

            if (Number.isFinite(item1) && item1 >= 0 &&
                Number.isFinite(item2) && item2 >= 0 &&
                Number.isFinite(item3) && item3 >= 0 &&
                Number.isFinite(item4) && item4 >= 0
            ) {
                const item1Gross = item1 * 20.99;
                const item2Gross = item2 * 12.75;
                const item3Gross = item3 * 9.95;
                const item4Gross = item4 * 35.89;

                const totalAmt = item1Gross + item2Gross + item3Gross + item4Gross;
                const totalEarn = totalAmt * 0.09 + 250;

                document.getElementById("item1-qty").value = item1;
                document.getElementById("item2-qty").value = item2;
                document.getElementById("item3-qty").value = item3;
                document.getElementById("item4-qty").value = item4;

                document.getElementById("item1-val").value = item1Gross.toFixed(2);
                document.getElementById("item2-val").value = item2Gross.toFixed(2);
                document.getElementById("item3-val").value = item3Gross.toFixed(2);
                document.getElementById("item4-val").value = item4Gross.toFixed(2);

                document.getElementById("total-amt").value = totalAmt.toFixed(2);
                document.getElementById("total-earn").value = totalEarn.toFixed(2);

                document.getElementById("error-space").textContent = "\n";
            }
            else {
                document.getElementById("error-space").textContent = 
                    "All input fields must be completed and have no values less than 0."
            }
        }

        function clearForm(resetEvent) {
            document.getElementById("item1-qty").value = "";
            document.getElementById("item2-qty").value = "";
            document.getElementById("item3-qty").value = "";
            document.getElementById("item4-qty").value = "";

            document.getElementById("item1-val").value = "";
            document.getElementById("item2-val").value = "";
            document.getElementById("item3-val").value = "";
            document.getElementById("item4-val").value = "";

            document.getElementById("total-amt").value = "";
            document.getElementById("total-earn").value = "";

            document.getElementById("error-space").textContent = "";
        }

        document.addEventListener("DOMContentLoaded", () => {
            const form = document.getElementById("seller-form");
            form.addEventListener("submit", reportEarnings);
            form.addEventListener("reset", clearForm);
        });
    </script>
</head>
<body>
    <h1>Salesperson Earnings</h1>

    <form class="hw3" id="seller-form">
        <!-- <label for="seller">Seller's Name</label>
        <input type="text" id="seller" name="seller"> -->

        <div id="formInstructions">
            For each item, type the quantity sold by the seller.
        </div>

        <label for="item1">Item 1:</label>
        <input type="number" id="item1" name="item1">

        <label for="item2">Item 2:</label>
        <input type="number" id="item2" name="item2">

        <label for="item3">Item 3:</label>
        <input type="number" id="item3" name="item3">

        <label for="item4">Item 4:</label>
        <input type="number" id="item4" name="item4">

        <button type="submit">Submit</button>
        <button type="reset">Clear Form</button>
    </form>

    <p class="hw3" id="error-space"></p>

    <table class="hw3" id="sales-results">
        <thead>
            <tr>
                <th>Item#</th>
                <th>Price</th>
                <th>Quantity Sold</th>
                <th>Total $</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1</td>
                <td>$20.99</td>
                <td><input type="number" id="item1-qty" readonly></td>
                <td><input type="number" id="item1-val" readonly></td>
            </tr>
            <tr>
                <td>2</td>
                <td>$12.75</td>
                <td><input type="number" id="item2-qty" readonly></td>
                <td><input type="number" id="item2-val" readonly></td>
            </tr>
            <tr>
                <td>3</td>
                <td>$9.95</td>
                <td><input type="number" id="item3-qty" readonly></td>
                <td><input type="number" id="item3-val" readonly></td>
            </tr>
            <tr>
                <td>4</td>
                <td>$35.89</td>
                <td><input type="number" id="item4-qty" readonly></td>
                <td><input type="number" id="item4-val" readonly></td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3">Total Amount Sold</td>
                <td><input type="number" id="total-amt" readonly></td>
            </tr>
            <tr>
                <td colspan="3">Total Weekly Earnings</td>
                <td><input type="number" id="total-earn" readonly></td>
            </tr>
        </tfoot>
    </table>

    <p><a href="hw3.html">Return to Homework 3 main page</a></p>
</body>
</html>